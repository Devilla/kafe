# Builder DAO

Welcome to a [Builder DAO](https://builderdao.notion.site) monorepo! This [turborepo](https://turborepo.org/) uses [Yarn](https://yarnpkg.com/) as a package manager.

![](https://img.shields.io/twitter/follow/TheBuilderDAO?style=social)

![](https://img.shields.io/github/contributors/TheBuilderDAO/kafe?style=plastic)
![](https://img.shields.io/github/commit-activity/m/TheBuilderDAO/kafe?style=plastic)

## What's inside?

This repo contains the [Kaf√© learning platform](https://dev.builderdao.io) created by Builder DAO including the tutorials, web frontend, Solana programs and TypeScript SDK. 

Click each heading below for details:

<details>
 <summary>/apps</summary>

- `/web` - Kaf√© by BuilderDAO frontend
  - `/components` - ReactJS components
  - `/hooks` - React Hooks specific to Kaf√©
  - `/pages` - Next.js API & page routes
  - `/styles` - This project uses [TailwindCSS](https://tailwindcss.com/)
</details>

<details>
 <summary>/dao-programs</summary>

- `/migrations/deploy.js` - Deployment script
- `/programs/<solana-program-name>` - Solana program
  - `/src/`: Rust source code for the program
  - `/tests/`: Rust tests for the program
  - `/ts-sdk/`: TypeScript SDK source code
</details>

<details>
 <summary>/packages</summary>

- `/ui`- A stub React component library
- `/config` - `eslint` configurations (includes `eslint-config-next` and `eslint-config-prettier`)
- `/tsconfig` - TypeScript configuration used throughout the monorepo
- `/md-utils` - Utilities for parsing markdown files
</details>

<details>
 <summary>/templates</summary>

- `/multipage` - A template for longer tutorials
- `/simple` - A single page tutorial template
</details>

<details>
 <summary>/token-scripts</summary>

- `/keypairs` - Solana keypairs for token scripts
- `/token-list` - SPL token metadata directory
- `/token-list/logo/` - SPL token images directory
- `/token-list/token-registry.json` - SPL token metadata
- `/utils` - TypeScript SDK helpers
</details>

<details>
 <summary>/tutorials</summary>

- `/<tutorial-name>`
  - `/content/assets/` - Images used in the tutorial are stored here
  - `/content/index.mdx` - Main tutorial content
  - `/content/<filename>.mdx` - Additional pages, if required
  - `/builderdao.config.json` - Configuration file for the tutorial
  - `/builderdao.lock.json` - Autogenerated tutorial lockfile
</details>

---

### Build

> Unless otherwise specified, run all `yarn` commands from the project root directory.

To build **all** apps and packages:

```text
yarn run build
```

To build **only the CLI package**:

```text
yarn run build:cli
```

### Develop

> By default, the Next.js development server runs on port 3000.

Run the development server:

```text
yarn run dev
```

---

## Quick start for tutorial authors

- Propose your tutorial on Kaf√©: [https://dev.builderdao.io/write](https://dev.builderdao.io/write)
- Once your proposal has enough votes to be funded, [Fork the Kaf√© repo](https://docs.github.com/en/get-started/quickstart/fork-a-repo)
- Clone your fork of the repo to your local machine with `git clone` 
- Install the dependencies with `yarn`
- Build the CLI package with `yarn run build:cli`
- Initialize the tutorial template with `builderdao tutorial init`

```text
git clone https://github.com/<YOUR_GITHUB_USERNAME>/kafe
cd kafe
yarn
yarn build:cli
builderdao tutorial init
```

## Proposing a tutorial on Kaf√©

Before you can write and sumbit a tutorial for review, it must be proposed and reach quorum on the [Kaf√© site](https://dev.builderdao.io/vote). The proposal process is simple, however there are some requirements:

- You must have the [Phantom](https://phantom.app) wallet extension installed in the Chrome browser
- Phantom must be connected to the [Solana](https://solana.com) **testnet**
- You must have at least one KAFE token in your Solana wallet

- Click on ‚ÄúConnect wallet‚Äù at the top right of the **[Write](https://dev.builderdao.io/write)** page.

    - The **title** of your proposal should be the title of your tutorial. Take a minute to think of what would attract readers to view your tutorial. Keep it short and sweet! *Examples*: ‚ÄúBuild a payment dApp on Solana‚Äù - ‚ÄúPolygon p2p payment dApp‚Äù - ‚ÄúCeramic schema cookbook‚Äù.
    - The **tags** field is useful to categorize your tutorial, and up to 5 can be selected.
    Only select tags that are relevant to the topic of your proposed tutorial. Users will filter content on Kaf√© using these tags.
    - Select a **difficulty level** for your tutorial, either Beginner or Experienced. If there is a lot of code involved in your tutorial, or it contains advanced concepts, Experienced is the better choice. This is also used to filter content when users are looking at the list of available tutorials.
    - The **summary** of your proposal will be used as the description of the tutorial. The summary is limited to 480 characters, which is approximately 70 to 120 words including spaces. This is also used as a description when you generate the template to begin writing your tutorial.
- When all the fields are complete, click on ‚Äúsubmit proposal‚Äù on the right side of the page.

## Writing a tutorial for Kaf√©

Make sure you have built and can run the `builderdao` CLI by running the command:

```text
builderdao -v
```
This should output the current version of the CLI tool:

```text
Builder DAO CLI v0.0.2
```

> If the command fails to display the version number or you see an error, make sure you have installed the dependencies and run the build script `yarn run build:cli`.

### Initializing the template

In order to prepare the directory, metadata and tutorial template for your proposal, run the command:

```text
builderdao tutorial init
```

Complete the interactive prompts to prepare the tutorial template and checkout the correct branch.

<details>
 <summary>üëà Click to expand for details</summary>

First, you will need to select your tutorial by its **slug** which will match the title you gave your proposal, in lower-kebab-case. You can scroll through the list with the up and down arrow keys on your keyboard.

> For example, if your proposal title was ‚ÄúHTML 101‚Äù, you would select the slug `html-101`. 

![](./assets/tutorial_init_1.png)

- ‚ÄúAre you sure you want to create a tutorial for `...` ?‚Äù - **Answer ‚Äúy‚Äù for Yes**.
- ‚ÄúAre you sure you want to checkout the branch "`tutorials/<SLUG>`‚Äù? - **Answer "y" for Yes**.
- Select tutorial type (**single** or **multipage**)
- Tutorial Title - You can change the title of your tutorial _or_ press Enter to accept the Proposal title.
- Tutorial Description - You can change the description of your tutorial _or_ press Enter to accept the Proposal description.
- Select the keywords you would like to use (maximum of 5) - 
- Push changes? - **Answer "y" for Yes**.

After you are done you will have a boilerplate Markdown file to start writing your tutorial. A new directory will be created for your tutorial, matching the tutorial slug.

Inside, you will find:
- `/content/` - Directory containing the tutorial markdown files
- `/content/assets/` - Place any images used in your tutorial here
- `/builderdao.config.json` - Tutorial metadata
- `/builderdao.lock.json` - Configuration lockfile

</details>

---

## Commit, Push, Create a PR

> If this is your first time pushing a commit to a tutorial branch, you will need to set the upstream and `git` will prompt you to do so, otherwise you can just `git push`.

Once you are finished writing the first draft of your tutorial, save your changes and then commit and push to your fork. Optionally, you can check the files being staged with `git status`: 

```text
git status
git add .
git commit -m "<YOUR_TUTORIAL_TITLE>"
git push
```

> Remember to replace `<YOUR_TUTORIAL_TITLE>` and `<SLUG>` with the correct values for your tutorial. For example, if the title was "HTML 101", the slug would be "html-101".

Now go to your fork of the repo on GitHub (`https://github.com/<YOUR_GITHUB_USERNAME>/kafe`) and [create a Pull Request](https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/proposing-changes-to-your-work-with-pull-requests/creating-a-pull-request). Make sure that the _base branch_ of your PR is the `dev` branch of the Kaf√® repo.

## Publishing

Once your PR is active, the assigned reviewers will look it over carefully and make suggestions for improvement, point out errors and typos, and work with you to ensure a high quality tutorial.

After both reviewers have approved your tutorial, it will be merged. Your tutorial will be automatically published after it is merged with no further action required. It will then be added to the index and become visible on Kaf√© at `https://dev.builderdao.io/learn/<SLUG>`. Congratulations! üéâ
